import java.util.*;

public class Day5 {

    public static int validUpdates2(String input1, String input2) {
        HashMap<Integer, Set<Integer>> rules = parseRules(input1);
        ArrayList<ArrayList<Integer>> updates = parseUpdates(input2);

        int sum = 0;

        for (ArrayList<Integer> update: updates) {
            if (!validUpdate(rules, update)) {
                int[] ordered = order(rules, update);



                int middleindex = ((ordered.length + 1)/2) - 1;

                int mid = ordered[middleindex];

                sum = sum + mid;
            }
        }

        return sum;
    }

    /**
     * This orders the invalid update based on the rules. It uses the selection sort algorithm
     * @param rules the rules of the ordering
     * @param update the invalid update wanting to be ordered
     * @return the new update in ordered form
     */
    public static int[] order(HashMap<Integer, Set<Integer>> rules, ArrayList<Integer> update) {
        int[] u = new int[update.size()];

        for (int i = 0; i < u.length; i++) {
            u[i] = update.get(i);
        }

        for (int i = 0; i < u.length - 1; i++) {
            int minidx = i; //The minimum index

            for (int j = i + 1; j < u.length; j++) {
                int num1 = u[minidx];
                int num2 = u[j];



                if (rules.containsKey(num2)) {
                    Set<Integer> s = rules.get(num2);

                    if (s.contains(num1)) {
                        minidx = j;

                    }
                }
            }

            int temp = u[i];
            u[i] = u[minidx];
            u[minidx] = temp;
        }

        return u;
    }

    /**
     * Below is the function for part 1 of Day5
     * @param input1 represents the rules string
     * @param input2 represents the updates string
     * @return returns the sum of the middle numbers of the valid updates
     */
    public static int validUpdates(String input1, String input2) {
        HashMap<Integer, Set<Integer>> rules = parseRules(input1);
        ArrayList<ArrayList<Integer>> updates = parseUpdates(input2);

        int sum = 0;

        for (ArrayList<Integer> update: updates) {
            if (validUpdate(rules, update)) {
                int index = ((update.size() + 1)/2) - 1;
                int mid = update.get(index);

                sum = sum + mid;
            }
        }


        return sum;
    }


    /**
     * Based on a set of rules, this function returns true when based on the set of rules given,
     * the update is valid.
     * @param rules the set of rules
     * @param update the update wanting to be checked whether it is valid
     * @return whether the update is valid or not
     */
    public static boolean validUpdate(HashMap<Integer, Set<Integer>> rules, ArrayList<Integer> update) {

        for (int i = 0; i < update.size() - 1; i++) {
            for (int j = i + 1; j < update.size(); j++) {
                int num1 = update.get(i);
                int num2 = update.get(j);

                if (rules.containsKey(num2)) {
                    Set<Integer> s = rules.get(num2);

                    if (s.contains(num1)) {
                        return false;
                    }
                }
            }

        }
        return true;
    }




    public static ArrayList<ArrayList<Integer>> parseUpdates(String input) {
        ArrayList<ArrayList<Integer>> updates = new ArrayList<ArrayList<Integer>>();

        String[] d = input.split("\n");

        for (String update : d) {
            String[] nums = update.split(",");
            ArrayList<Integer> a = new ArrayList<Integer>();

            for (String num : nums) {
                int i = Integer.parseInt(num);
                a.add(i);
            }

            updates.add(a);
        }

        return updates;
    }

    public static HashMap<Integer, Set<Integer>> parseRules(String input) {
        String[] s1 = input.split("\n");
        HashMap<Integer, Set<Integer>> ruleMap = new HashMap<Integer, Set<Integer>>();

        for (String rule: s1) {
            String[] nums = rule.split("\\|");

            Integer num1 = Integer.parseInt(nums[0]);
            Integer num2 = Integer.parseInt(nums[1]);

            if (ruleMap.containsKey(num1)) {
                Set<Integer> s = ruleMap.get(num1);
                s.add(num2);
            } else {
                Set<Integer> s = new HashSet<Integer>();
                s.add(num2);
                ruleMap.put(num1, s);
            }
        }

        return ruleMap;
    }

    public static void main(String[] args) {
        String rules = "98|43\n" +
                "91|38\n" +
                "91|97\n" +
                "11|56\n" +
                "11|72\n" +
                "11|55\n" +
                "36|34\n" +
                "36|73\n" +
                "36|66\n" +
                "36|49\n" +
                "22|69\n" +
                "22|37\n" +
                "22|98\n" +
                "22|36\n" +
                "22|45\n" +
                "69|97\n" +
                "69|85\n" +
                "69|75\n" +
                "69|42\n" +
                "69|45\n" +
                "69|39\n" +
                "38|19\n" +
                "38|33\n" +
                "38|63\n" +
                "38|94\n" +
                "38|69\n" +
                "38|41\n" +
                "38|93\n" +
                "82|22\n" +
                "82|91\n" +
                "82|24\n" +
                "82|76\n" +
                "82|87\n" +
                "82|94\n" +
                "82|45\n" +
                "82|39\n" +
                "96|73\n" +
                "96|37\n" +
                "96|35\n" +
                "96|85\n" +
                "96|45\n" +
                "96|39\n" +
                "96|69\n" +
                "96|62\n" +
                "96|57\n" +
                "23|68\n" +
                "23|86\n" +
                "23|91\n" +
                "23|98\n" +
                "23|47\n" +
                "23|45\n" +
                "23|97\n" +
                "23|89\n" +
                "23|42\n" +
                "23|37\n" +
                "75|39\n" +
                "75|97\n" +
                "75|62\n" +
                "75|42\n" +
                "75|99\n" +
                "75|33\n" +
                "75|29\n" +
                "75|68\n" +
                "75|86\n" +
                "75|53\n" +
                "75|38\n" +
                "66|68\n" +
                "66|85\n" +
                "66|77\n" +
                "66|38\n" +
                "66|94\n" +
                "66|72\n" +
                "66|49\n" +
                "66|86\n" +
                "66|99\n" +
                "66|22\n" +
                "66|29\n" +
                "66|82\n" +
                "56|19\n" +
                "56|69\n" +
                "56|76\n" +
                "56|37\n" +
                "56|24\n" +
                "56|77\n" +
                "56|93\n" +
                "56|94\n" +
                "56|23\n" +
                "56|72\n" +
                "56|55\n" +
                "56|47\n" +
                "56|22\n" +
                "85|67\n" +
                "85|59\n" +
                "85|19\n" +
                "85|99\n" +
                "85|94\n" +
                "85|93\n" +
                "85|43\n" +
                "85|77\n" +
                "85|22\n" +
                "85|63\n" +
                "85|49\n" +
                "85|72\n" +
                "85|34\n" +
                "85|76\n" +
                "43|59\n" +
                "43|33\n" +
                "43|93\n" +
                "43|76\n" +
                "43|96\n" +
                "43|63\n" +
                "43|53\n" +
                "43|69\n" +
                "43|82\n" +
                "43|31\n" +
                "43|22\n" +
                "43|49\n" +
                "43|23\n" +
                "43|77\n" +
                "43|72\n" +
                "63|35\n" +
                "63|89\n" +
                "63|14\n" +
                "63|45\n" +
                "63|47\n" +
                "63|57\n" +
                "63|37\n" +
                "63|19\n" +
                "63|24\n" +
                "63|62\n" +
                "63|98\n" +
                "63|97\n" +
                "63|11\n" +
                "63|69\n" +
                "63|36\n" +
                "63|75\n" +
                "19|75\n" +
                "19|57\n" +
                "19|87\n" +
                "19|45\n" +
                "19|73\n" +
                "19|23\n" +
                "19|47\n" +
                "19|24\n" +
                "19|89\n" +
                "19|97\n" +
                "19|66\n" +
                "19|62\n" +
                "19|69\n" +
                "19|91\n" +
                "19|96\n" +
                "19|39\n" +
                "19|35\n" +
                "49|82\n" +
                "49|33\n" +
                "49|19\n" +
                "49|22\n" +
                "49|67\n" +
                "49|87\n" +
                "49|45\n" +
                "49|96\n" +
                "49|47\n" +
                "49|72\n" +
                "49|53\n" +
                "49|63\n" +
                "49|76\n" +
                "49|98\n" +
                "49|41\n" +
                "49|55\n" +
                "49|23\n" +
                "49|93\n" +
                "53|19\n" +
                "53|82\n" +
                "53|67\n" +
                "53|22\n" +
                "53|69\n" +
                "53|31\n" +
                "53|72\n" +
                "53|87\n" +
                "53|55\n" +
                "53|96\n" +
                "53|77\n" +
                "53|47\n" +
                "53|23\n" +
                "53|45\n" +
                "53|93\n" +
                "53|98\n" +
                "53|76\n" +
                "53|56\n" +
                "53|59\n" +
                "89|77\n" +
                "89|33\n" +
                "89|34\n" +
                "89|97\n" +
                "89|43\n" +
                "89|41\n" +
                "89|29\n" +
                "89|42\n" +
                "89|53\n" +
                "89|86\n" +
                "89|66\n" +
                "89|62\n" +
                "89|59\n" +
                "89|93\n" +
                "89|85\n" +
                "89|14\n" +
                "89|56\n" +
                "89|38\n" +
                "89|68\n" +
                "89|31\n" +
                "55|72\n" +
                "55|75\n" +
                "55|96\n" +
                "55|37\n" +
                "55|93\n" +
                "55|82\n" +
                "55|47\n" +
                "55|24\n" +
                "55|91\n" +
                "55|77\n" +
                "55|23\n" +
                "55|35\n" +
                "55|94\n" +
                "55|22\n" +
                "55|41\n" +
                "55|19\n" +
                "55|45\n" +
                "55|98\n" +
                "55|69\n" +
                "55|59\n" +
                "55|63\n" +
                "86|68\n" +
                "86|49\n" +
                "86|67\n" +
                "86|34\n" +
                "86|59\n" +
                "86|77\n" +
                "86|55\n" +
                "86|72\n" +
                "86|38\n" +
                "86|82\n" +
                "86|63\n" +
                "86|99\n" +
                "86|43\n" +
                "86|22\n" +
                "86|94\n" +
                "86|33\n" +
                "86|85\n" +
                "86|53\n" +
                "86|76\n" +
                "86|29\n" +
                "86|41\n" +
                "86|93\n" +
                "94|24\n" +
                "94|14\n" +
                "94|97\n" +
                "94|42\n" +
                "94|96\n" +
                "94|62\n" +
                "94|23\n" +
                "94|47\n" +
                "94|75\n" +
                "94|36\n" +
                "94|87\n" +
                "94|63\n" +
                "94|35\n" +
                "94|76\n" +
                "94|39\n" +
                "94|91\n" +
                "94|37\n" +
                "94|98\n" +
                "94|73\n" +
                "94|69\n" +
                "94|89\n" +
                "94|19\n" +
                "94|45\n" +
                "59|36\n" +
                "59|94\n" +
                "59|35\n" +
                "59|67\n" +
                "59|69\n" +
                "59|76\n" +
                "59|24\n" +
                "59|72\n" +
                "59|23\n" +
                "59|93\n" +
                "59|41\n" +
                "59|22\n" +
                "59|75\n" +
                "59|63\n" +
                "59|96\n" +
                "59|91\n" +
                "59|45\n" +
                "59|87\n" +
                "59|47\n" +
                "59|98\n" +
                "59|77\n" +
                "59|19\n" +
                "59|37\n" +
                "59|82\n" +
                "57|34\n" +
                "57|59\n" +
                "57|56\n" +
                "57|31\n" +
                "57|85\n" +
                "57|99\n" +
                "57|66\n" +
                "57|97\n" +
                "57|49\n" +
                "57|14\n" +
                "57|55\n" +
                "57|33\n" +
                "57|41\n" +
                "57|62\n" +
                "57|73\n" +
                "57|43\n" +
                "57|42\n" +
                "57|86\n" +
                "57|89\n" +
                "57|53\n" +
                "57|68\n" +
                "57|38\n" +
                "57|11\n" +
                "57|29\n" +
                "76|98\n" +
                "76|23\n" +
                "76|96\n" +
                "76|57\n" +
                "76|89\n" +
                "76|19\n" +
                "76|39\n" +
                "76|42\n" +
                "76|97\n" +
                "76|87\n" +
                "76|24\n" +
                "76|91\n" +
                "76|62\n" +
                "76|73\n" +
                "76|14\n" +
                "76|69\n" +
                "76|75\n" +
                "76|37\n" +
                "76|35\n" +
                "76|47\n" +
                "76|45\n" +
                "76|63\n" +
                "76|36\n" +
                "76|11\n" +
                "87|89\n" +
                "87|47\n" +
                "87|66\n" +
                "87|57\n" +
                "87|91\n" +
                "87|37\n" +
                "87|69\n" +
                "87|73\n" +
                "87|98\n" +
                "87|86\n" +
                "87|35\n" +
                "87|68\n" +
                "87|14\n" +
                "87|39\n" +
                "87|42\n" +
                "87|75\n" +
                "87|11\n" +
                "87|85\n" +
                "87|45\n" +
                "87|34\n" +
                "87|36\n" +
                "87|97\n" +
                "87|24\n" +
                "87|62\n" +
                "35|62\n" +
                "35|86\n" +
                "35|33\n" +
                "35|42\n" +
                "35|36\n" +
                "35|89\n" +
                "35|73\n" +
                "35|39\n" +
                "35|56\n" +
                "35|14\n" +
                "35|99\n" +
                "35|43\n" +
                "35|68\n" +
                "35|31\n" +
                "35|85\n" +
                "35|29\n" +
                "35|34\n" +
                "35|53\n" +
                "35|38\n" +
                "35|66\n" +
                "35|57\n" +
                "35|11\n" +
                "35|97\n" +
                "35|49\n" +
                "41|24\n" +
                "41|72\n" +
                "41|75\n" +
                "41|37\n" +
                "41|35\n" +
                "41|96\n" +
                "41|63\n" +
                "41|87\n" +
                "41|22\n" +
                "41|19\n" +
                "41|23\n" +
                "41|94\n" +
                "41|82\n" +
                "41|67\n" +
                "41|69\n" +
                "41|77\n" +
                "41|91\n" +
                "41|45\n" +
                "41|98\n" +
                "41|47\n" +
                "41|39\n" +
                "41|36\n" +
                "41|93\n" +
                "41|76\n" +
                "14|49\n" +
                "14|56\n" +
                "14|55\n" +
                "14|41\n" +
                "14|31\n" +
                "14|22\n" +
                "14|67\n" +
                "14|38\n" +
                "14|33\n" +
                "14|59\n" +
                "14|29\n" +
                "14|53\n" +
                "14|86\n" +
                "14|85\n" +
                "14|43\n" +
                "14|66\n" +
                "14|82\n" +
                "14|11\n" +
                "14|99\n" +
                "14|62\n" +
                "14|68\n" +
                "14|93\n" +
                "14|77\n" +
                "14|34\n" +
                "39|49\n" +
                "39|38\n" +
                "39|31\n" +
                "39|53\n" +
                "39|33\n" +
                "39|34\n" +
                "39|97\n" +
                "39|62\n" +
                "39|57\n" +
                "39|85\n" +
                "39|42\n" +
                "39|99\n" +
                "39|68\n" +
                "39|66\n" +
                "39|56\n" +
                "39|43\n" +
                "39|14\n" +
                "39|89\n" +
                "39|29\n" +
                "39|59\n" +
                "39|55\n" +
                "39|11\n" +
                "39|73\n" +
                "39|86\n" +
                "72|76\n" +
                "72|98\n" +
                "72|42\n" +
                "72|35\n" +
                "72|87\n" +
                "72|73\n" +
                "72|96\n" +
                "72|45\n" +
                "72|97\n" +
                "72|75\n" +
                "72|39\n" +
                "72|47\n" +
                "72|91\n" +
                "72|24\n" +
                "72|37\n" +
                "72|19\n" +
                "72|69\n" +
                "72|57\n" +
                "72|89\n" +
                "72|36\n" +
                "72|94\n" +
                "72|63\n" +
                "72|14\n" +
                "72|23\n" +
                "29|96\n" +
                "29|23\n" +
                "29|56\n" +
                "29|31\n" +
                "29|98\n" +
                "29|63\n" +
                "29|59\n" +
                "29|19\n" +
                "29|53\n" +
                "29|55\n" +
                "29|77\n" +
                "29|76\n" +
                "29|82\n" +
                "29|45\n" +
                "29|69\n" +
                "29|22\n" +
                "29|93\n" +
                "29|94\n" +
                "29|67\n" +
                "29|87\n" +
                "29|41\n" +
                "29|33\n" +
                "29|72\n" +
                "29|49\n" +
                "67|73\n" +
                "67|63\n" +
                "67|96\n" +
                "67|23\n" +
                "67|57\n" +
                "67|36\n" +
                "67|35\n" +
                "67|91\n" +
                "67|45\n" +
                "67|82\n" +
                "67|24\n" +
                "67|47\n" +
                "67|19\n" +
                "67|39\n" +
                "67|87\n" +
                "67|72\n" +
                "67|37\n" +
                "67|69\n" +
                "67|76\n" +
                "67|75\n" +
                "67|89\n" +
                "67|98\n" +
                "67|22\n" +
                "67|94\n" +
                "42|67\n" +
                "42|55\n" +
                "42|11\n" +
                "42|62\n" +
                "42|97\n" +
                "42|34\n" +
                "42|77\n" +
                "42|14\n" +
                "42|43\n" +
                "42|53\n" +
                "42|68\n" +
                "42|29\n" +
                "42|31\n" +
                "42|38\n" +
                "42|56\n" +
                "42|66\n" +
                "42|59\n" +
                "42|41\n" +
                "42|33\n" +
                "42|86\n" +
                "42|99\n" +
                "42|93\n" +
                "42|49\n" +
                "42|85\n" +
                "77|72\n" +
                "77|69\n" +
                "77|94\n" +
                "77|24\n" +
                "77|93\n" +
                "77|57\n" +
                "77|67\n" +
                "77|82\n" +
                "77|47\n" +
                "77|35\n" +
                "77|39\n" +
                "77|91\n" +
                "77|63\n" +
                "77|23\n" +
                "77|45\n" +
                "77|36\n" +
                "77|76\n" +
                "77|98\n" +
                "77|96\n" +
                "77|22\n" +
                "77|75\n" +
                "77|37\n" +
                "77|87\n" +
                "77|19\n" +
                "62|49\n" +
                "62|33\n" +
                "62|59\n" +
                "62|38\n" +
                "62|99\n" +
                "62|93\n" +
                "62|82\n" +
                "62|72\n" +
                "62|66\n" +
                "62|34\n" +
                "62|77\n" +
                "62|11\n" +
                "62|68\n" +
                "62|55\n" +
                "62|85\n" +
                "62|86\n" +
                "62|67\n" +
                "62|31\n" +
                "62|29\n" +
                "62|41\n" +
                "62|53\n" +
                "62|56\n" +
                "62|43\n" +
                "62|22\n" +
                "24|66\n" +
                "24|85\n" +
                "24|99\n" +
                "24|43\n" +
                "24|36\n" +
                "24|57\n" +
                "24|97\n" +
                "24|38\n" +
                "24|75\n" +
                "24|53\n" +
                "24|14\n" +
                "24|11\n" +
                "24|89\n" +
                "24|42\n" +
                "24|34\n" +
                "24|35\n" +
                "24|39\n" +
                "24|68\n" +
                "24|73\n" +
                "24|29\n" +
                "24|62\n" +
                "24|49\n" +
                "24|86\n" +
                "24|91\n" +
                "37|35\n" +
                "37|43\n" +
                "37|36\n" +
                "37|24\n" +
                "37|62\n" +
                "37|73\n" +
                "37|97\n" +
                "37|38\n" +
                "37|57\n" +
                "37|91\n" +
                "37|11\n" +
                "37|86\n" +
                "37|66\n" +
                "37|29\n" +
                "37|39\n" +
                "37|49\n" +
                "37|89\n" +
                "37|99\n" +
                "37|68\n" +
                "37|14\n" +
                "37|34\n" +
                "37|85\n" +
                "37|42\n" +
                "37|75\n" +
                "68|34\n" +
                "68|67\n" +
                "68|72\n" +
                "68|77\n" +
                "68|53\n" +
                "68|59\n" +
                "68|38\n" +
                "68|96\n" +
                "68|49\n" +
                "68|82\n" +
                "68|63\n" +
                "68|94\n" +
                "68|55\n" +
                "68|43\n" +
                "68|31\n" +
                "68|93\n" +
                "68|22\n" +
                "68|33\n" +
                "68|56\n" +
                "68|41\n" +
                "68|19\n" +
                "68|76\n" +
                "68|99\n" +
                "68|29\n" +
                "73|68\n" +
                "73|99\n" +
                "73|43\n" +
                "73|77\n" +
                "73|53\n" +
                "73|59\n" +
                "73|49\n" +
                "73|31\n" +
                "73|85\n" +
                "73|97\n" +
                "73|55\n" +
                "73|14\n" +
                "73|38\n" +
                "73|89\n" +
                "73|86\n" +
                "73|29\n" +
                "73|33\n" +
                "73|62\n" +
                "73|42\n" +
                "73|66\n" +
                "73|34\n" +
                "73|41\n" +
                "73|11\n" +
                "73|56\n" +
                "47|66\n" +
                "47|11\n" +
                "47|39\n" +
                "47|37\n" +
                "47|42\n" +
                "47|89\n" +
                "47|14\n" +
                "47|62\n" +
                "47|91\n" +
                "47|85\n" +
                "47|35\n" +
                "47|24\n" +
                "47|99\n" +
                "47|86\n" +
                "47|36\n" +
                "47|68\n" +
                "47|29\n" +
                "47|73\n" +
                "47|75\n" +
                "47|34\n" +
                "47|38\n" +
                "47|43\n" +
                "47|57\n" +
                "47|97\n" +
                "97|67\n" +
                "97|99\n" +
                "97|68\n" +
                "97|14\n" +
                "97|59\n" +
                "97|31\n" +
                "97|55\n" +
                "97|56\n" +
                "97|77\n" +
                "97|38\n" +
                "97|86\n" +
                "97|85\n" +
                "97|11\n" +
                "97|82\n" +
                "97|62\n" +
                "97|33\n" +
                "97|53\n" +
                "97|49\n" +
                "97|29\n" +
                "97|66\n" +
                "97|43\n" +
                "97|41\n" +
                "97|34\n" +
                "97|93\n" +
                "31|45\n" +
                "31|72\n" +
                "31|24\n" +
                "31|96\n" +
                "31|69\n" +
                "31|98\n" +
                "31|77\n" +
                "31|67\n" +
                "31|41\n" +
                "31|94\n" +
                "31|93\n" +
                "31|82\n" +
                "31|63\n" +
                "31|23\n" +
                "31|22\n" +
                "31|59\n" +
                "31|37\n" +
                "31|47\n" +
                "31|55\n" +
                "31|91\n" +
                "31|76\n" +
                "31|19\n" +
                "31|87\n" +
                "31|75\n" +
                "33|55\n" +
                "33|76\n" +
                "33|47\n" +
                "33|87\n" +
                "33|31\n" +
                "33|98\n" +
                "33|19\n" +
                "33|24\n" +
                "33|96\n" +
                "33|63\n" +
                "33|94\n" +
                "33|72\n" +
                "33|45\n" +
                "33|37\n" +
                "33|69\n" +
                "33|59\n" +
                "33|41\n" +
                "33|23\n" +
                "33|91\n" +
                "33|93\n" +
                "33|22\n" +
                "33|77\n" +
                "33|67\n" +
                "33|82\n" +
                "99|19\n" +
                "99|93\n" +
                "99|87\n" +
                "99|43\n" +
                "99|33\n" +
                "99|29\n" +
                "99|63\n" +
                "99|55\n" +
                "99|67\n" +
                "99|77\n" +
                "99|96\n" +
                "99|31\n" +
                "99|76\n" +
                "99|22\n" +
                "99|41\n" +
                "99|72\n" +
                "99|23\n" +
                "99|59\n" +
                "99|38\n" +
                "99|94\n" +
                "99|49\n" +
                "99|53\n" +
                "99|56\n" +
                "99|82\n" +
                "93|69\n" +
                "93|36\n" +
                "93|23\n" +
                "93|91\n" +
                "93|72\n" +
                "93|73\n" +
                "93|37\n" +
                "93|45\n" +
                "93|75\n" +
                "93|96\n" +
                "93|35\n" +
                "93|87\n" +
                "93|82\n" +
                "93|94\n" +
                "93|57\n" +
                "93|39\n" +
                "93|63\n" +
                "93|22\n" +
                "93|67\n" +
                "93|19\n" +
                "93|47\n" +
                "93|24\n" +
                "93|98\n" +
                "93|76\n" +
                "45|47\n" +
                "45|39\n" +
                "45|89\n" +
                "45|57\n" +
                "45|97\n" +
                "45|86\n" +
                "45|85\n" +
                "45|14\n" +
                "45|73\n" +
                "45|98\n" +
                "45|35\n" +
                "45|62\n" +
                "45|75\n" +
                "45|66\n" +
                "45|99\n" +
                "45|68\n" +
                "45|24\n" +
                "45|91\n" +
                "45|34\n" +
                "45|36\n" +
                "45|42\n" +
                "45|11\n" +
                "45|37\n" +
                "45|38\n" +
                "34|67\n" +
                "34|82\n" +
                "34|76\n" +
                "34|38\n" +
                "34|31\n" +
                "34|96\n" +
                "34|43\n" +
                "34|53\n" +
                "34|19\n" +
                "34|63\n" +
                "34|22\n" +
                "34|72\n" +
                "34|23\n" +
                "34|56\n" +
                "34|49\n" +
                "34|29\n" +
                "34|77\n" +
                "34|41\n" +
                "34|93\n" +
                "34|94\n" +
                "34|55\n" +
                "34|59\n" +
                "34|33\n" +
                "34|99\n" +
                "98|99\n" +
                "98|91\n" +
                "98|24\n" +
                "98|97\n" +
                "98|39\n" +
                "98|62\n" +
                "98|35\n" +
                "98|85\n" +
                "98|34\n" +
                "98|66\n" +
                "98|89\n" +
                "98|11\n" +
                "98|38\n" +
                "98|37\n" +
                "98|57\n" +
                "98|36\n" +
                "98|75\n" +
                "98|47\n" +
                "98|86\n" +
                "98|14\n" +
                "98|42\n" +
                "98|73\n" +
                "98|68\n" +
                "91|39\n" +
                "91|56\n" +
                "91|14\n" +
                "91|99\n" +
                "91|36\n" +
                "91|35\n" +
                "91|66\n" +
                "91|11\n" +
                "91|43\n" +
                "91|42\n" +
                "91|73\n" +
                "91|75\n" +
                "91|49\n" +
                "91|57\n" +
                "91|86\n" +
                "91|62\n" +
                "91|34\n" +
                "91|89\n" +
                "91|29\n" +
                "91|68\n" +
                "91|85\n" +
                "91|53\n" +
                "11|77\n" +
                "11|34\n" +
                "11|31\n" +
                "11|41\n" +
                "11|94\n" +
                "11|67\n" +
                "11|99\n" +
                "11|93\n" +
                "11|38\n" +
                "11|49\n" +
                "11|82\n" +
                "11|33\n" +
                "11|43\n" +
                "11|85\n" +
                "11|59\n" +
                "11|66\n" +
                "11|22\n" +
                "11|86\n" +
                "11|53\n" +
                "11|29\n" +
                "11|68\n" +
                "36|31\n" +
                "36|33\n" +
                "36|99\n" +
                "36|62\n" +
                "36|11\n" +
                "36|38\n" +
                "36|97\n" +
                "36|85\n" +
                "36|89\n" +
                "36|39\n" +
                "36|57\n" +
                "36|14\n" +
                "36|68\n" +
                "36|43\n" +
                "36|56\n" +
                "36|86\n" +
                "36|42\n" +
                "36|55\n" +
                "36|53\n" +
                "36|29\n" +
                "22|35\n" +
                "22|96\n" +
                "22|91\n" +
                "22|42\n" +
                "22|94\n" +
                "22|19\n" +
                "22|72\n" +
                "22|75\n" +
                "22|63\n" +
                "22|97\n" +
                "22|39\n" +
                "22|76\n" +
                "22|89\n" +
                "22|87\n" +
                "22|24\n" +
                "22|73\n" +
                "22|47\n" +
                "22|57\n" +
                "22|23\n" +
                "69|47\n" +
                "69|34\n" +
                "69|89\n" +
                "69|62\n" +
                "69|14\n" +
                "69|37\n" +
                "69|36\n" +
                "69|99\n" +
                "69|66\n" +
                "69|24\n" +
                "69|91\n" +
                "69|68\n" +
                "69|11\n" +
                "69|35\n" +
                "69|73\n" +
                "69|86\n" +
                "69|98\n" +
                "69|57\n" +
                "38|72\n" +
                "38|23\n" +
                "38|22\n" +
                "38|56\n" +
                "38|53\n" +
                "38|87\n" +
                "38|55\n" +
                "38|82\n" +
                "38|49\n" +
                "38|59\n" +
                "38|43\n" +
                "38|67\n" +
                "38|29\n" +
                "38|76\n" +
                "38|77\n" +
                "38|31\n" +
                "38|96\n" +
                "82|57\n" +
                "82|96\n" +
                "82|42\n" +
                "82|75\n" +
                "82|73\n" +
                "82|37\n" +
                "82|19\n" +
                "82|47\n" +
                "82|23\n" +
                "82|89\n" +
                "82|63\n" +
                "82|72\n" +
                "82|69\n" +
                "82|36\n" +
                "82|98\n" +
                "82|35\n" +
                "96|97\n" +
                "96|14\n" +
                "96|47\n" +
                "96|89\n" +
                "96|86\n" +
                "96|75\n" +
                "96|11\n" +
                "96|24\n" +
                "96|42\n" +
                "96|36\n" +
                "96|66\n" +
                "96|23\n" +
                "96|87\n" +
                "96|98\n" +
                "96|91\n" +
                "23|36\n" +
                "23|62\n" +
                "23|75\n" +
                "23|14\n" +
                "23|66\n" +
                "23|57\n" +
                "23|87\n" +
                "23|85\n" +
                "23|69\n" +
                "23|73\n" +
                "23|24\n" +
                "23|11\n" +
                "23|39\n" +
                "23|35\n" +
                "75|73\n" +
                "75|11\n" +
                "75|56\n" +
                "75|66\n" +
                "75|85\n" +
                "75|89\n" +
                "75|57\n" +
                "75|35\n" +
                "75|43\n" +
                "75|34\n" +
                "75|36\n" +
                "75|49\n" +
                "75|14\n" +
                "66|33\n" +
                "66|31\n" +
                "66|55\n" +
                "66|43\n" +
                "66|53\n" +
                "66|56\n" +
                "66|41\n" +
                "66|93\n" +
                "66|34\n" +
                "66|76\n" +
                "66|67\n" +
                "66|59\n" +
                "56|98\n" +
                "56|87\n" +
                "56|31\n" +
                "56|41\n" +
                "56|33\n" +
                "56|96\n" +
                "56|67\n" +
                "56|59\n" +
                "56|63\n" +
                "56|82\n" +
                "56|45\n" +
                "85|41\n" +
                "85|82\n" +
                "85|55\n" +
                "85|29\n" +
                "85|53\n" +
                "85|38\n" +
                "85|68\n" +
                "85|33\n" +
                "85|31\n" +
                "85|56\n" +
                "43|67\n" +
                "43|55\n" +
                "43|94\n" +
                "43|87\n" +
                "43|56\n" +
                "43|45\n" +
                "43|19\n" +
                "43|41\n" +
                "43|29\n" +
                "63|42\n" +
                "63|39\n" +
                "63|73\n" +
                "63|87\n" +
                "63|91\n" +
                "63|66\n" +
                "63|23\n" +
                "63|96\n" +
                "19|11\n" +
                "19|42\n" +
                "19|36\n" +
                "19|37\n" +
                "19|14\n" +
                "19|86\n" +
                "19|98\n" +
                "49|31\n" +
                "49|77\n" +
                "49|69\n" +
                "49|94\n" +
                "49|59\n" +
                "49|56\n" +
                "53|94\n" +
                "53|33\n" +
                "53|41\n" +
                "53|63\n" +
                "53|37\n" +
                "89|49\n" +
                "89|99\n" +
                "89|11\n" +
                "89|55\n" +
                "55|67\n" +
                "55|87\n" +
                "55|76\n" +
                "86|56\n" +
                "86|31\n" +
                "94|57";

        String updates = "98,37,47,35,22,73,76,36,67,39,69,82,45\n" +
                "72,94,76,96,23,87,69,37,24,91,75,36,57,73,89,42,97\n" +
                "35,36,57,66,86,38,43,49,53,56,33\n" +
                "94,63,19,87,98,75,39\n" +
                "37,98,86,23,42,91,96\n" +
                "99,38,43,29,49,53,56,33,31,55,59,41,77,67,82,22,72,94,76,63,19,96,23\n" +
                "34,29,77,33,89,55,97,62,11\n" +
                "86,38,29,49,33\n" +
                "98,37,24,35,39,57,89,97,14,62,86,85,38\n" +
                "93,59,98,94,55,37,82,47,19,33,22,24,96,72,67,77,23\n" +
                "23,35,63,37,69,98,47,36,96,82,19,91,57,39,89,45,24,22,94\n" +
                "49,53,56,33,31,55,93,67,82,72,96\n" +
                "39,97,66,68,43,53,55\n" +
                "33,55,59,77,93,67,82,72,76,63,19,96,23,69,45,98,47,37,24\n" +
                "72,35,93,87,47,96,82,41,37,45,23,76,98,24,67,63,59,75,19,94,69,22,77\n" +
                "87,72,91,67,24,76,47,57,75,22,73,35,19\n" +
                "36,75,98,73,24,47,87,76,89,45,96,94,35,39,63,69,57,42,22,72,23\n" +
                "98,47,37,91,35,57,89,97,11,66,86,68,38\n" +
                "49,86,75,29,68,39,35,43,91,73,38,14,57,97,34,66,11,62,42,53,85,36,89\n" +
                "76,37,47,94,93,19,45,91,22,36,77,69,98,87,82,75,41\n" +
                "86,85,68,34,99,38,43,29,49,53,56,33,31,55,59,41,77,93,82,22,72,94,76\n" +
                "37,94,98,45,19,87,35,93,72,39,77,22,63,47,23,24,91,69,75,96,36\n" +
                "69,45,91,75,35,36,57,89,14,62,66,86,85,68,34\n" +
                "41,93,82,94,31,22,96,72,59,38,76,77,67,56,33,19,63,99,29\n" +
                "24,75,35,39,57,86,38,29,49\n" +
                "31,55,59,77,82,72,76,63,23,45,98,47,37,24,91\n" +
                "34,43,49,56,77,67,76\n" +
                "69,96,91,45,87,22,72,55,67,23,94,59,76,77,24,47,75,93,82,41,98,19,37\n" +
                "73,42,14,62,11,86,34,99,43,29,49,53,56,33,55,59,41\n" +
                "85,86,38,56,29,82,76,43,31,72,93,99,33,53,94\n" +
                "55,85,66,43,49,42,53,77,86,56,89\n" +
                "97,72,63,19,57,23,89,24,47\n" +
                "87,69,98,47,75,35,36,39,89,97,14,62,11,85,68\n" +
                "45,98,93,37,94,57,82,69,35,36,22,63,24,19,39\n" +
                "49,82,53,63,59,96,72,22,87,29,69,45,23,56,67,76,93,41,94\n" +
                "33,31,55,77,93,82,22,72,76,19,96,23,87,69,45,37,24\n" +
                "49,66,68,75,89,36,97,38,57,34,73,86,91,99,29,62,53,11,39\n" +
                "69,14,86,57,68,34,75,42,62\n" +
                "14,62,66,85,43,53,56,59,41,77,82\n" +
                "63,96,23,45,24,75,35,36,89,42,97,14,11\n" +
                "82,22,76,19,96,98,37,24,75,39,89\n" +
                "43,53,56,33,59,67,82,22,72,76,19,87,69\n" +
                "77,76,94,59,41,29,87,63,67,96,72,82,23,33,55,56,69,49,19,43,31\n" +
                "87,69,91,59,82,45,63,96,67,76,94,23,55,98,37,77,47,75,93\n" +
                "14,62,11,68,38,43,29,56,55,59,67\n" +
                "93,67,82,22,72,76,63,19,96,23,87,69,45,47,37,91,75,35,36,39,57\n" +
                "36,39,89,97,14,62,11,66,86,85,68,38,43,29,49,53,56,33,31\n" +
                "94,41,37,93,55,76,82,72,77,67,45,96,98,56,87,31,33\n" +
                "94,53,72,96,82,43,55\n" +
                "38,43,49,56,33,31,55,41,93,67,22,72,94,76,63,19,96,23,87\n" +
                "45,98,33,77,47,69,59,87,19,67,23,31,94\n" +
                "35,24,98,45,91,57,87,37,11,36,89,63,39,75,42,96,23,47,19,73,69\n" +
                "98,47,37,24,91,35,36,39,57,73,89,42,97,14,62,11,66,86,85,68,34,99,38\n" +
                "99,22,53,56,82,59,72,33,31,85,63,68,76,34,77,93,43,94,29\n" +
                "62,49,68,93,56,59,77,85,41,66,86,22,11,82,38\n" +
                "14,53,97,41,42,66,33,11,85\n" +
                "45,19,98,73,69,91,82,22,23,96,47,36,75,63,94,72,57,67,24\n" +
                "63,69,94,45,47,87,72,97,39\n" +
                "36,66,91,37,29,38,39\n" +
                "68,56,66,41,62,99,97,67,31,86,49,33,77,29,85,43,34,11,38,55,53\n" +
                "43,49,31,55,77,93,82,23,69\n" +
                "39,11,66,68,38\n" +
                "68,99,38,43,29,49,53,33,59,41,77,93,67,82,22,72,94,76,63\n" +
                "24,91,75,35,36,57,73,89,42,97,14,62,11,66,86,85,68,34,99,38,43,29,49\n" +
                "14,29,36,42,37,43,73,34,85,62,99,38,39,11,68,24,91,35,57\n" +
                "68,39,55,53,31,11,33,86,56,14,62,49,42,97,43\n" +
                "98,47,36,89,42,14,62,86,68,99,38\n" +
                "38,56,77,33,53,86,41,22,76\n" +
                "82,87,72,22,63,75,69,76,24,35,23,73,39,57,47,36,91,89,96,94,45,98,19\n" +
                "37,75,35,36,57,42,85,68,99,38,29\n" +
                "91,35,57,73,89,14,11,86,99,49,53\n" +
                "14,97,45,87,35,73,23,85,66\n" +
                "75,36,69,91,39,42,68,11,34\n" +
                "24,91,35,39,89,42,86,85,68,99,38,43,29\n" +
                "73,89,42,97,14,62,11,66,85,34,99,29,49,53,31,55,59\n" +
                "34,99,43,53,56,63,96\n" +
                "35,39,57,62,86,85,99,29,49,53,33\n" +
                "42,11,68,34,99,38,43,29,53,56,33,31,55,59,41,77,93\n" +
                "59,22,33,41,77,49,68,38,63,99,29,67,72,94,31,19,56\n" +
                "77,93,82,94,76,63,19,45,37\n" +
                "47,14,39,87,75,45,97,36,73,86,42\n" +
                "38,82,34,59,68,56,67,22,31,55,76,77,41,29,53,99,85,94,43,93,63\n" +
                "22,69,47,24,75,36,57,89,42\n" +
                "98,45,37,63,72,94,73,69,47,91,97,42,75\n" +
                "97,14,62,11,66,86,85,68,99,38,43,29,49,53,56,55,59,41,77,93,67\n" +
                "67,82,22,72,94,76,63,19,96,23,87,69,45,98,91,75,35,57,73\n" +
                "53,33,55,59,41,77,67,22,94,69,45,98,47\n" +
                "35,39,57,73,14,66,34,38,53,56,33\n" +
                "89,14,66,86,68,34,29,59,77\n" +
                "19,96,23,69,45,47,91,75,35,73,89,42,97,62,66\n" +
                "69,24,75,93,22,45,96,39,77\n" +
                "57,73,42,97,14,62,11,66,86,85,68,34,99,38,43,29,49,53,56,33,31,55,59\n" +
                "47,91,63,69,35,11,97,73,96\n" +
                "19,47,37,36,57,89,42,11,66\n" +
                "56,98,76,82,47,53,59,96,67,41,69,72,55,87,23\n" +
                "39,91,73,23,35,36,42,98,22,47,94,45,63,89,37,76,75,24,69\n" +
                "36,39,57,89,42,97,14,62,11,66,86,85,68,34,99,38,43,29,49,53,56,33,31\n" +
                "72,77,45,94,41,49,82,22,19,29,63,31,96,87,93,53,33,55,59,76,23,69,56\n" +
                "56,33,31,55,59,41,77,67,82,22,72,94,76,63,96,23,87,69,45,98,37\n" +
                "87,69,47,75,35,39,57,86,68\n" +
                "29,49,53,56,33,31,55,59,41,77,93,67,82,22,72,94,76,63,19,96,87,69,45\n" +
                "66,82,77,85,31,86,34,29,99,94,59,22,33,93,68\n" +
                "73,35,39,91,68\n" +
                "93,39,98,72,23,22,82,57,69,45,87\n" +
                "11,85,34,99,38,29,53,56,31,55,59,41,77,93,82\n" +
                "47,37,91,36,89,42,97,62,86,85,68,34,43\n" +
                "72,49,76,38,31,55,93\n" +
                "75,45,39,36,62,11,98,24,37,73,66,35,97,23,85,42,87,47,86,69,57\n" +
                "33,59,93,63,19,96,98\n" +
                "77,99,53,31,38,29,11,62,59,66,85,93,82,67,68,49,56,86,41,43,34\n" +
                "38,96,31,94,22,19,34,93,63,76,59,53,67\n" +
                "35,11,97,33,34,29,66\n" +
                "24,35,36,62,11,85,49\n" +
                "93,67,22,72,94,76,63,19,96,23,87,69,45,98,47,37,24,91,75,35,36,39,57\n" +
                "97,86,11,34,36,39,14,35,53,43,49\n" +
                "19,96,87,69,98,47,24,57,73,89,42,97,62,11,66\n" +
                "73,38,35,49,86,91,14,34,43,85,53,89,62,75,36,42,29\n" +
                "69,98,24,37,14,36,68,97,89,39,73,47,87,86,85,75,11,35,62\n" +
                "23,87,19,98,24,76,57,63,45,47,73,37,14,75,39,97,36,42,91,96,89\n" +
                "55,93,96,87,47,37,75\n" +
                "73,11,49,29,53,41,86,62,31\n" +
                "34,38,43,49,53,56,33,31,59,41,77,93,67,82,22,76,63,19,96\n" +
                "85,34,53,31,59,93,67,94,63\n" +
                "42,57,53,36,31,34,11,89,68,73,49\n" +
                "67,53,72,31,43,38,86,93,41,11,22,56,77,68,99,85,49,59,82,29,33\n" +
                "77,93,82,76,87,69,98,47,37,24,35,36,39\n" +
                "29,68,85,11,53,89,38,66,73,62,42,43,55,86,31,56,33,41,59,14,97,49,99\n" +
                "53,94,87,55,69,23,59,43,63,29,67,41,56,22,96,31,33,77,72,76,93\n" +
                "37,91,35,36,39,57,73,89,14,62,66,86,85,68,34,38,29\n" +
                "29,49,53,56,33,31,55,77,93,67,82,22,63,19,96,23,87,69,45\n" +
                "77,76,98,47,67,53,41,96,63,31,55\n" +
                "56,86,85,53,41,93,33,55,77,29,99,66,38,43,68,34,94\n" +
                "37,24,75,36,39,42,97,14,62,11,66,85,34,38,43\n" +
                "35,73,14,11,43,53,33\n" +
                "31,62,99,85,66,34,97,29,59,33,57,43,86,42,55,38,11\n" +
                "69,98,47,24,35,36,39,89,42,97,14,62,66,86,85,68,34\n" +
                "99,14,31,93,86,62,38,11,42\n" +
                "63,37,24,39,97,62,11\n" +
                "59,41,22,94,96,24,35\n" +
                "98,37,91,75,35,36,39,57,73,89,42,97,14,62,11,66,86,85,68,34,99\n" +
                "11,33,68,14,86,43,89,49,66,62,73,56,42,31,55,39,53\n" +
                "36,57,75,66,37,99,35,45,47,86,39,68,89\n" +
                "69,45,98,47,91,75,35,36,57,73,89,42,97,14,62,11,66,86,85,68,34\n" +
                "38,43,77,82,22,94,19,96,87\n" +
                "76,63,23,87,47,37,24,91,75,57,73,42,62\n" +
                "35,42,97,66,68\n" +
                "36,57,89,42,62,11,66,86,85,68,34,99,38,43,49,33,31\n" +
                "49,41,38,67,34,77,55,72,56,43,11,85,99,33,93,31,53,59,29,82,68,22,66\n" +
                "33,99,43,31,38,89,34,86,97,36,11,14,39\n" +
                "97,66,85,57,42,24,73,89,39\n" +
                "11,39,14,66,62,97,91,99,34,75,37,86,38,57,36,85,73,89,24,35,68\n" +
                "86,42,73,85,43,49,89,31,38,34,62,56,39,99,68,55,97,29,33\n" +
                "66,73,91,14,89,24,62,35,97,37,29,36,39,38,42,34,86\n" +
                "53,41,33,55,31,94,59,77,22,98,49\n" +
                "87,33,43,93,29,53,22,59,94,41,82,76,72,69,49,56,23,31,63,55,77,19,96\n" +
                "72,76,19,69,45,91,75,35,73\n" +
                "87,31,33,63,29,94,67,93,53\n" +
                "98,41,47,67,36,76,91,72,69,87,24,77,96,63,93,35,75\n" +
                "23,87,69,45,98,47,37,24,91,75,35,36,39,57,73,89,42,97,14,62,11,86,85\n" +
                "94,76,63,19,96,23,87,45,98,37,24,91,75,35,36,39,73,89,42\n" +
                "85,57,45,24,75,89,99,14,86,36,62,37,47,34,35,91,98,11,66\n" +
                "19,75,63,89,73,98,97,24,94,45,23,35,37,36,69,57,14,91,42,87,96,39,47\n" +
                "56,33,31,55,59,41,77,93,82,76,96,45,98,47,37\n" +
                "89,42,97,14,62,11,66,86,85,68,34,99,38,43,29,49,53,56,33,31,59,41,77\n" +
                "94,45,91,96,97,87,76,47,89,39,37,24,35,42,72,19,57,73,36,75,98,69,63\n" +
                "33,87,93,72,94,77,55,82,23,53,76,49,22,98,63\n" +
                "34,49,56,33,31,55,59,41,77,93,22,72,94,76,63,19,96\n" +
                "23,87,37,93,94,96,77,75,19,35,59\n" +
                "55,59,41,77,93,67,82,22,72,94,76,63,19,96,23,87,69,45,98,47,37,91,75\n" +
                "19,96,23,69,45,91,35,36,39,57,73,89,97,14,62,11,66\n" +
                "22,72,19,23,37,24,36,39,73,89,42\n" +
                "75,39,57,73,89,14,62,11,66,68,34,43,29,53,56\n" +
                "91,31,47,24,98,67,37,82,23,45,69,87,94,77,55,19,63,93,96,41,59,76,72\n" +
                "55,93,34,56,99,22,85,49,59,29,66,41,86\n" +
                "35,36,39,73,42,97,62,11,66,86,68,34,99,38,43,29,49,53,33\n" +
                "24,36,73,39,98,82,19,94,63,69,76,22,96,75,23,72,37,89,45\n" +
                "29,62,39,57,99,97,66,85,53,91,11,35,86,34,68,42,75\n" +
                "53,33,55,67,82,76,63,19,96,23,87,45,47\n" +
                "38,53,11,59,34,73,33,62,66,99,42,97,29,43,68,89,56,31,86,49,57,14,55\n" +
                "24,47,76,45,37,72,23,63,89,82,69,19,57,73,87\n" +
                "24,47,87,89,98,19,66,97,75,57,36,73,11,62,39,96,91\n" +
                "49,53,56,31,55,41,77,93,82,94,76,19,96,23,87,69,98\n" +
                "19,72,87,96,63,94,45,39,57,37,82,91,98,67,36,23,93,47,35\n" +
                "38,66,14,29,62,59,53,97,56,57,43,73,33\n" +
                "43,29,49,53,56,33,31,55,59,41,77,93,67,82,72,94,76,63,19,96,23,87,69\n" +
                "45,62,23,14,98,76,24\n" +
                "49,77,59,53,38,55,89\n" +
                "23,55,96,24,59,76,69,31,22,67,33,98,19\n" +
                "37,77,33,45,59,24,96\n" +
                "45,19,94,23,98,55,93,96,67,37,76,72,33,31,22,47,24,59,82,69,41\n" +
                "87,47,93,56,59,82,19,76,23,45,31,72,63\n" +
                "67,49,31,53,66,43,99,14,55,11,77,38,86,41,62\n" +
                "68,11,75,89,42,49,62,86,24";

        String rules1 = "47|53\n" +
                "97|13\n" +
                "97|61\n" +
                "97|47\n" +
                "75|29\n" +
                "61|13\n" +
                "75|53\n" +
                "29|13\n" +
                "97|29\n" +
                "53|29\n" +
                "61|53\n" +
                "97|53\n" +
                "61|29\n" +
                "47|13\n" +
                "75|47\n" +
                "97|75\n" +
                "47|61\n" +
                "75|61\n" +
                "47|29\n" +
                "75|13\n" +
                "53|13";

        String updates1 = "75,47,61,53,29\n" +
                "97,61,53,29,13\n" +
                "75,29,13\n" +
                "75,97,47,61,53\n" +
                "61,13,29\n" +
                "97,13,75,29,47";

        System.out.println(validUpdates2(rules, updates));







    }
}
